Ü.
…D:\FII-2024-2025\.NET\PROIECT\Predictive-Healthcare-Management-System\Infrastructure\Infrastructure\Repositories\PatientRepository.cs
	namespace 	
Infrastructure
 
. 
Repositories %
{ 
public 

class 
PatientRepository "
:# $
IPatientRepository% 7
{ 
private		 
readonly		  
ApplicationDbContext		 -
context		. 5
;		5 6
public 
PatientRepository  
(  ! 
ApplicationDbContext! 5
context6 =
)= >
{ 	
this 
. 
context 
= 
context "
;" #
} 	
public 
async 
Task 
< 
Guid 
> 
AddPatientAsync  /
(/ 0
Patient0 7
patient8 ?
)? @
{ 	
await 
context 
. 
Patients "
." #
AddAsync# +
(+ ,
patient, 3
)3 4
;4 5
await 
context 
. 
SaveChangesAsync *
(* +
)+ ,
;, -
return 
patient 
. 
	PatientId $
;$ %
} 	
public 
async 
Task 
< 
Guid 
> 
DeletePatientAsync  2
(2 3
Guid3 7
id8 :
): ;
{ 	
var 
patient 
= 
await 
context  '
.' (
Patients( 0
.0 1
FirstOrDefaultAsync1 D
(D E
xE F
=>G I
xJ K
.K L
	PatientIdL U
==V X
idY [
)[ \
;\ ]
if 
( 
patient 
!= 
null 
)  
{ 
context 
. 
Patients  
.  !
Remove! '
(' (
patient( /
)/ 0
;0 1
await 
context 
. 
SaveChangesAsync .
(. /
)/ 0
;0 1
return 
id 
; 
} 
return   
Guid   
.   
Empty   
;   
}!! 	
public## 
async## 
Task## 
<## 
Patient## !
>##! "
GetPatientByIdAsync### 6
(##6 7
Guid##7 ;
id##< >
)##> ?
{$$ 	
return%% 
await%% 
context%%  
.%%  !
Patients%%! )
.%%) *
	FindAsync%%* 3
(%%3 4
id%%4 6
)%%6 7
;%%7 8
}&& 	
public(( 
async(( 
Task(( 
<(( 
IEnumerable(( %
<((% &
Patient((& -
>((- .
>((. /
GetPatientsAsync((0 @
(((@ A
)((A B
{)) 	
return** 
await** 
context**  
.**  !
Patients**! )
.**) *
ToListAsync*** 5
(**5 6
)**6 7
;**7 8
}++ 	
public-- 
async-- 
Task-- 
UpdatePatientAsync-- ,
(--, -
Patient--- 4
patient--5 <
)--< =
{.. 	
context// 
.// 
Entry// 
(// 
patient// !
)//! "
.//" #
State//# (
=//) *
EntityState//+ 6
.//6 7
Modified//7 ?
;//? @
await00 
context00 
.00 
SaveChangesAsync00 *
(00* +
)00+ ,
;00, -
}11 	
public33 
async33 
Task33 
<33 
List33 
<33 
Patient33 &
>33& '
>33' (
GetAllPatientsAsync33) <
(33< =
)33= >
{44 	
return55 
await55 
context55  
.55  !
Patients55! )
.55) *
ToListAsync55* 5
(555 6
)556 7
;557 8
}66 	
public88 
async88 
Task88 
<88 
bool88 
>88 
UpdateAsync88  +
(88+ ,
Patient88, 3
patient884 ;
)88; <
{99 	
context:: 
.:: 
Entry:: 
(:: 
patient:: !
)::! "
.::" #
State::# (
=::) *
EntityState::+ 6
.::6 7
Modified::7 ?
;::? @
return;; 
await;; 
context;;  
.;;  !
SaveChangesAsync;;! 1
(;;1 2
);;2 3
>;;4 5
$num;;6 7
;;;7 8
}<< 	
public== 
void== 
Detach== 
(== 
Patient== "
patient==# *
)==* +
{>> 	
context?? 
.?? 
Entry?? 
(?? 
patient?? !
)??! "
.??" #
State??# (
=??) *
EntityState??+ 6
.??6 7
Detached??7 ?
;??? @
}@@ 	
publicAA 
asyncAA 
TaskAA 
<AA 
boolAA 
>AA 
PatientExistsAsyncAA  2
(AA2 3
GuidAA3 7
	patientIdAA8 A
)AAA B
{BB 	
returnCC 
awaitCC 
contextCC  
.CC  !
PatientsCC! )
.CC) *
AnyAsyncCC* 2
(CC2 3
pCC3 4
=>CC5 7
pCC8 9
.CC9 :
	PatientIdCC: C
==CCD F
	patientIdCCG P
)CCP Q
;CCQ R
}DD 	
}EE 
}FF æ'
‹D:\FII-2024-2025\.NET\PROIECT\Predictive-Healthcare-Management-System\Infrastructure\Infrastructure\Repositories\MedicalRecordRepository.cs
	namespace 	
Infrastructure
 
. 
Repositories %
{ 
public 

class #
MedicalRecordRepository (
:) *$
IMedicalRecordRepository+ C
{ 
private		 
readonly		  
ApplicationDbContext		 -
context		. 5
;		5 6
public #
MedicalRecordRepository &
(& ' 
ApplicationDbContext' ;
context< C
)C D
{ 	
this 
. 
context 
= 
context "
;" #
} 	
public 
async 
Task 
< 
Guid 
> !
AddMedicalRecordAsync  5
(5 6
MedicalRecord6 C
medicalRecordD Q
)Q R
{ 	
await 
context 
. 
MedicalRecords (
.( )
AddAsync) 1
(1 2
medicalRecord2 ?
)? @
;@ A
await 
context 
. 
SaveChangesAsync *
(* +
)+ ,
;, -
return 
medicalRecord  
.  !
RecordId! )
;) *
} 	
public 
async 
Task 
< 
List 
< 
MedicalRecord ,
>, -
>- ."
GetMedicalRecordsAsync/ E
(E F
)F G
{ 	
return 
await 
context  
.  !
MedicalRecords! /
./ 0
ToListAsync0 ;
(; <
)< =
;= >
} 	
public 
async 
Task 
< 
bool 
> $
DeleteMedicalRecordAsync  8
(8 9
Guid9 =
recordId> F
)F G
{ 	
var 
medicalRecord 
= 
await  %
context& -
.- .
MedicalRecords. <
.< =
	FindAsync= F
(F G
recordIdG O
)O P
;P Q
if 
( 
medicalRecord 
==  
null! %
)% &
{ 
return 
false 
; 
}   
context"" 
."" 
MedicalRecords"" "
.""" #
Remove""# )
("") *
medicalRecord""* 7
)""7 8
;""8 9
await## 
context## 
.## 
SaveChangesAsync## *
(##* +
)##+ ,
;##, -
return$$ 
true$$ 
;$$ 
}%% 	
public'' 
async'' 
Task'' 
<'' 
List'' 
<'' 
MedicalRecord'' ,
>'', -
>''- ."
GetAllByPatientIdAsync''/ E
(''E F
Guid''F J
	patientId''K T
)''T U
{(( 	
return)) 
await)) 
context))  
.))  !
MedicalRecords))! /
.))/ 0
Where))0 5
())5 6
mr))6 8
=>))9 ;
mr))< >
.))> ?
	PatientId))? H
==))I K
	patientId))L U
)))U V
.))V W
ToListAsync))W b
())b c
)))c d
;))d e
}** 	
public,, 
async,, 
Task,, 
<,, 
MedicalRecord,, '
>,,' (%
GetMedicalRecordByIdAsync,,) B
(,,B C
Guid,,C G
recordId,,H P
),,P Q
{-- 	
return.. 
await.. 
context..  
...  !
MedicalRecords..! /
.../ 0
	FindAsync..0 9
(..9 :
recordId..: B
)..B C
;..C D
}// 	
public11 
async11 
Task11 
<11 
bool11 
>11 
UpdateAsync11  +
(11+ ,
MedicalRecord11, 9
medicalRecord11: G
)11G H
{22 	
context33 
.33 
MedicalRecords33 "
.33" #
Update33# )
(33) *
medicalRecord33* 7
)337 8
;338 9
await44 
context44 
.44 
SaveChangesAsync44 *
(44* +
)44+ ,
;44, -
return55 
true55 
;55 
}66 	
public77 
void77 
Detach77 
(77 
MedicalRecord77 (
record77) /
)77/ 0
{88 	
context99 
.99 
Entry99 
(99 
record99  
)99  !
.99! "
State99" '
=99( )
EntityState99* 5
.995 6
Detached996 >
;99> ?
}:: 	
};; 
}<< ¨"
‰D:\FII-2024-2025\.NET\PROIECT\Predictive-Healthcare-Management-System\Infrastructure\Infrastructure\Repositories\AppointmentRepository.cs
	namespace 	
Infrastructure
 
. 
Repositories %
{ 
public 

class !
AppointmentRepository &
:' ("
IAppointmentRepository) ?
{ 
private		 
readonly		  
ApplicationDbContext		 -
_context		. 6
;		6 7
public !
AppointmentRepository $
($ % 
ApplicationDbContext% 9
context: A
)A B
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
Appointment %
>% &#
GetAppointmentByIdAsync' >
(> ?
Guid? C
appointmentIdD Q
)Q R
{ 	
return 
await 
_context !
.! "
Appointments" .
.. /
	FindAsync/ 8
(8 9
appointmentId9 F
)F G
;G H
} 	
public 
async 
Task 
< 
List 
< 
Appointment *
>* +
>+ ,#
GetAllAppointmentsAsync- D
(D E
)E F
{ 	
return 
await 
_context !
.! "
Appointments" .
.. /
ToListAsync/ :
(: ;
); <
;< =
} 	
public 
async 
Task 
< 
Guid 
> 
AddAppointmentAsync  3
(3 4
Appointment4 ?
appointment@ K
)K L
{ 	
await 
_context 
. 
Appointments '
.' (
AddAsync( 0
(0 1
appointment1 <
)< =
;= >
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
return 
appointment 
. 
AppointmentId ,
;, -
} 	
public!! 
async!! 
Task!! 
<!! 
bool!! 
>!! "
UpdateAppointmentAsync!!  6
(!!6 7
Appointment!!7 B
appointment!!C N
)!!N O
{"" 	
_context## 
.## 
Appointments## !
.##! "
Update##" (
(##( )
appointment##) 4
)##4 5
;##5 6
return$$ 
await$$ 
_context$$ !
.$$! "
SaveChangesAsync$$" 2
($$2 3
)$$3 4
>$$5 6
$num$$7 8
;$$8 9
}%% 	
public'' 
async'' 
Task'' 
<'' 
bool'' 
>'' "
DeleteAppointmentAsync''  6
(''6 7
Guid''7 ;
appointmentId''< I
)''I J
{(( 	
var)) 
appointment)) 
=)) 
await)) #
_context))$ ,
.)), -
Appointments))- 9
.))9 :
	FindAsync)): C
())C D
appointmentId))D Q
)))Q R
;))R S
if** 
(** 
appointment** 
==** 
null** #
)**# $
{++ 
return,, 
false,, 
;,, 
}-- 
_context// 
.// 
Appointments// !
.//! "
Remove//" (
(//( )
appointment//) 4
)//4 5
;//5 6
return00 
await00 
_context00 !
.00! "
SaveChangesAsync00" 2
(002 3
)003 4
>005 6
$num007 8
;008 9
}11 	
public22 
void22 
Detach22 
(22 
Appointment22 &
appointment22' 2
)222 3
{33 	
_context44 
.44 
Entry44 
(44 
appointment44 &
)44& '
.44' (
State44( -
=44. /
EntityState440 ;
.44; <
Detached44< D
;44D E
}55 	
}66 
}77 ‹E
‡D:\FII-2024-2025\.NET\PROIECT\Predictive-Healthcare-Management-System\Infrastructure\Infrastructure\Persistence\ApplicationDbContext.cs
	namespace 	
Infrastructure
 
. 
Persistence $
{ 
public 

class  
ApplicationDbContext %
:& '
	DbContext( 1
{ 
public  
ApplicationDbContext #
(# $
DbContextOptions$ 4
<4 5 
ApplicationDbContext5 I
>I J
optionsK R
)R S
:T U
baseV Z
(Z [
options[ b
)b c
{		 	
}

 	
public 
DbSet 
< 
Patient 
> 
Patients &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
MedicalRecord "
>" #
MedicalRecords$ 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
DbSet 
< 
Appointment  
>  !
Appointments" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
.  
HasPostgresExtension -
(- .
$str. 9
)9 :
;: ;
modelBuilder 
. 
Entity 
<  
Patient  '
>' (
(( )
entity) /
=>0 2
{ 
entity 
. 
ToTable 
( 
$str )
)) *
;* +
entity 
. 
HasKey 
( 
e 
=>  "
e# $
.$ %
	PatientId% .
). /
;/ 0
entity 
. 
Property 
(  
e  !
=>" $
e% &
.& '
	PatientId' 0
)0 1
. 
HasColumnType "
(" #
$str# )
)) *
. 
HasDefaultValueSql '
(' (
$str( <
)< =
. 
ValueGeneratedOnAdd (
(( )
)) *
;* +
entity 
. 
Property 
(  
e  !
=>" $
e% &
.& '
	FirstName' 0
)0 1
.1 2

IsRequired2 <
(< =
)= >
.> ?
HasMaxLength? K
(K L
$numL O
)O P
;P Q
entity 
. 
Property 
(  
e  !
=>" $
e% &
.& '
LastName' /
)/ 0
.0 1

IsRequired1 ;
(; <
)< =
.= >
HasMaxLength> J
(J K
$numK N
)N O
;O P
entity 
. 
Property 
(  
e  !
=>" $
e% &
.& '
DateOfBirth' 2
)2 3
.3 4

IsRequired4 >
(> ?
)? @
;@ A
entity 
. 
Property 
(  
e  !
=>" $
e% &
.& '
Gender' -
)- .
.. /

IsRequired/ 9
(9 :
): ;
;; <
entity   
.   
Property   
(    
e    !
=>  " $
e  % &
.  & '
ContactInformation  ' 9
)  9 :
.  : ;

IsRequired  ; E
(  E F
)  F G
.  G H
HasMaxLength  H T
(  T U
$num  U X
)  X Y
;  Y Z
entity!! 
.!! 
Property!! 
(!!  
e!!  !
=>!!" $
e!!% &
.!!& '
Address!!' .
)!!. /
.!!/ 0

IsRequired!!0 :
(!!: ;
)!!; <
.!!< =
HasMaxLength!!= I
(!!I J
$num!!J M
)!!M N
;!!N O
}"" 
)"" 
;"" 
modelBuilder$$ 
.$$ 
Entity$$ 
<$$  
MedicalRecord$$  -
>$$- .
($$. /
entity$$/ 5
=>$$6 8
{%% 
entity&& 
.&& 
ToTable&& 
(&& 
$str&& 0
)&&0 1
;&&1 2
entity'' 
.'' 
HasKey'' 
('' 
e'' 
=>''  "
e''# $
.''$ %
RecordId''% -
)''- .
;''. /
entity(( 
.(( 
Property(( 
(((  
e((  !
=>((" $
e((% &
.((& '
RecordId((' /
)((/ 0
.)) 
HasColumnType)) "
())" #
$str))# )
)))) *
.** 
HasDefaultValueSql** '
(**' (
$str**( <
)**< =
.++ 
ValueGeneratedOnAdd++ (
(++( )
)++) *
;++* +
entity,, 
.,, 
Property,, 
(,,  
e,,  !
=>,," $
e,,% &
.,,& '
	PatientId,,' 0
),,0 1
.,,1 2

IsRequired,,2 <
(,,< =
),,= >
;,,> ?
entity-- 
.-- 
Property-- 
(--  
e--  !
=>--" $
e--% &
.--& '
Date--' +
)--+ ,
.--, -

IsRequired--- 7
(--7 8
)--8 9
;--9 :
entity.. 
... 
Property.. 
(..  
e..  !
=>.." $
e..% &
...& '
	Diagnosis..' 0
)..0 1
...1 2

IsRequired..2 <
(..< =
)..= >
...> ?
HasMaxLength..? K
(..K L
$num..L O
)..O P
;..P Q
entity// 
.// 
Property// 
(//  
e//  !
=>//" $
e//% &
.//& '
Notes//' ,
)//, -
.//- .
HasMaxLength//. :
(//: ;
$num//; ?
)//? @
;//@ A
entity00 
.00 
HasMany00 
(00 
e00  
=>00! #
e00$ %
.00% &
Prescriptions00& 3
)003 4
.004 5
WithOne005 <
(00< =
)00= >
.00> ?
HasForeignKey00? L
(00L M
p00M N
=>00O Q
p00R S
.00S T
PrescriptionId00T b
)00b c
;00c d
}11 
)11 
;11 
modelBuilder33 
.33 
Entity33 
<33  
Appointment33  +
>33+ ,
(33, -
entity33- 3
=>334 6
{44 
entity55 
.55 
ToTable55 
(55 
$str55 -
)55- .
;55. /
entity66 
.66 
HasKey66 
(66 
e66 
=>66  "
e66# $
.66$ %
AppointmentId66% 2
)662 3
;663 4
entity77 
.77 
Property77 
(77  
e77  !
=>77" $
e77% &
.77& '
AppointmentId77' 4
)774 5
.88 
HasColumnType88 "
(88" #
$str88# )
)88) *
.99 
HasDefaultValueSql99 '
(99' (
$str99( <
)99< =
.:: 
ValueGeneratedOnAdd:: (
(::( )
)::) *
;::* +
entity;; 
.;; 
Property;; 
(;;  
e;;  !
=>;;" $
e;;% &
.;;& '
	PatientId;;' 0
);;0 1
.;;1 2

IsRequired;;2 <
(;;< =
);;= >
;;;> ?
entity<< 
.<< 
Property<< 
(<<  
e<<  !
=><<" $
e<<% &
.<<& '
AppointmentDate<<' 6
)<<6 7
.<<7 8

IsRequired<<8 B
(<<B C
)<<C D
;<<D E
entity== 
.== 
Property== 
(==  
e==  !
=>==" $
e==% &
.==& '
Reason==' -
)==- .
.==. /
HasMaxLength==/ ;
(==; <
$num==< @
)==@ A
;==A B
}>> 
)>> 
;>> 
}?? 	
}@@ 
}AA •w
ŽD:\FII-2024-2025\.NET\PROIECT\Predictive-Healthcare-Management-System\Infrastructure\Infrastructure\Migrations\20241112120443_InitialCreate.cs
	namespace 	
Infrastructure
 
. 

Migrations #
{ 
public		 

partial		 
class		 
InitialCreate		 &
:		' (
	Migration		) 2
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str @
,@ A
$strB F
)F G
;G H
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
	PatientId 
= 
table  %
.% &
Column& ,
<, -
Guid- 1
>1 2
(2 3
type3 7
:7 8
$str9 ?
,? @
nullableA I
:I J
falseK P
,P Q
defaultValueSqlR a
:a b
$strc w
)w x
,x y
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; S
,S T
	maxLengthU ^
:^ _
$num` c
,c d
nullablee m
:m n
falseo t
)t u
,u v
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: R
,R S
	maxLengthT ]
:] ^
$num_ b
,b c
nullabled l
:l m
falsen s
)s t
,t u
DateOfBirth 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
type9 =
:= >
$str? Y
,Y Z
nullable[ c
:c d
falsee j
)j k
,k l
Gender 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q
ContactInformation &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
type> B
:B C
$strD \
,\ ]
	maxLength^ g
:g h
$numi l
,l m
nullablen v
:v w
falsex }
)} ~
,~ 
Address 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 Q
,Q R
	maxLengthS \
:\ ]
$num^ a
,a b
nullablec k
:k l
falsem r
)r s
,s t
	PhotoPath 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; A
,A B
nullableC K
:K L
falseM R
)R S
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 2
,  2 3
x  4 5
=>  6 8
x  9 :
.  : ;
	PatientId  ; D
)  D E
;  E F
}!! 
)!! 
;!! 
migrationBuilder## 
.## 
CreateTable## (
(##( )
name$$ 
:$$ 
$str$$ $
,$$$ %
columns%% 
:%% 
table%% 
=>%% !
new%%" %
{&& 
AppointmentId'' !
=''" #
table''$ )
.'') *
Column''* 0
<''0 1
Guid''1 5
>''5 6
(''6 7
type''7 ;
:''; <
$str''= C
,''C D
nullable''E M
:''M N
false''O T
,''T U
defaultValueSql''V e
:''e f
$str''g {
)''{ |
,''| }
	PatientId(( 
=(( 
table((  %
.((% &
Column((& ,
<((, -
Guid((- 1
>((1 2
(((2 3
type((3 7
:((7 8
$str((9 ?
,((? @
nullable((A I
:((I J
false((K P
)((P Q
,((Q R

ProviderId)) 
=))  
table))! &
.))& '
Column))' -
<))- .
Guid)). 2
>))2 3
())3 4
type))4 8
:))8 9
$str)): @
,))@ A
nullable))B J
:))J K
false))L Q
)))Q R
,))R S
AppointmentDate** #
=**$ %
table**& +
.**+ ,
Column**, 2
<**2 3
DateTime**3 ;
>**; <
(**< =
type**= A
:**A B
$str**C ]
,**] ^
nullable**_ g
:**g h
false**i n
)**n o
,**o p
Reason++ 
=++ 
table++ "
.++" #
Column++# )
<++) *
string++* 0
>++0 1
(++1 2
type++2 6
:++6 7
$str++8 Q
,++Q R
	maxLength++S \
:++\ ]
$num++^ b
,++b c
nullable++d l
:++l m
false++n s
)++s t
,++t u
Status,, 
=,, 
table,, "
.,," #
Column,,# )
<,,) *
int,,* -
>,,- .
(,,. /
type,,/ 3
:,,3 4
$str,,5 >
,,,> ?
nullable,,@ H
:,,H I
false,,J O
),,O P
}-- 
,-- 
constraints.. 
:.. 
table.. "
=>..# %
{// 
table00 
.00 

PrimaryKey00 $
(00$ %
$str00% 6
,006 7
x008 9
=>00: <
x00= >
.00> ?
AppointmentId00? L
)00L M
;00M N
table11 
.11 

ForeignKey11 $
(11$ %
name22 
:22 
$str22 B
,22B C
column33 
:33 
x33  !
=>33" $
x33% &
.33& '
	PatientId33' 0
,330 1
principalTable44 &
:44& '
$str44( 2
,442 3
principalColumn55 '
:55' (
$str55) 4
,554 5
onDelete66  
:66  !
ReferentialAction66" 3
.663 4
Cascade664 ;
)66; <
;66< =
}77 
)77 
;77 
migrationBuilder99 
.99 
CreateTable99 (
(99( )
name:: 
::: 
$str:: '
,::' (
columns;; 
:;; 
table;; 
=>;; !
new;;" %
{<< 
RecordId== 
=== 
table== $
.==$ %
Column==% +
<==+ ,
Guid==, 0
>==0 1
(==1 2
type==2 6
:==6 7
$str==8 >
,==> ?
nullable==@ H
:==H I
false==J O
,==O P
defaultValueSql==Q `
:==` a
$str==b v
)==v w
,==w x
	PatientId>> 
=>> 
table>>  %
.>>% &
Column>>& ,
<>>, -
Guid>>- 1
>>>1 2
(>>2 3
type>>3 7
:>>7 8
$str>>9 ?
,>>? @
nullable>>A I
:>>I J
false>>K P
)>>P Q
,>>Q R
Date?? 
=?? 
table??  
.??  !
Column??! '
<??' (
DateTime??( 0
>??0 1
(??1 2
type??2 6
:??6 7
$str??8 R
,??R S
nullable??T \
:??\ ]
false??^ c
)??c d
,??d e
	Diagnosis@@ 
=@@ 
table@@  %
.@@% &
Column@@& ,
<@@, -
string@@- 3
>@@3 4
(@@4 5
type@@5 9
:@@9 :
$str@@; S
,@@S T
	maxLength@@U ^
:@@^ _
$num@@` c
,@@c d
nullable@@e m
:@@m n
false@@o t
)@@t u
,@@u v
NotesAA 
=AA 
tableAA !
.AA! "
ColumnAA" (
<AA( )
stringAA) /
>AA/ 0
(AA0 1
typeAA1 5
:AA5 6
$strAA7 P
,AAP Q
	maxLengthAAR [
:AA[ \
$numAA] a
,AAa b
nullableAAc k
:AAk l
falseAAm r
)AAr s
}BB 
,BB 
constraintsCC 
:CC 
tableCC "
=>CC# %
{DD 
tableEE 
.EE 

PrimaryKeyEE $
(EE$ %
$strEE% 9
,EE9 :
xEE; <
=>EE= ?
xEE@ A
.EEA B
RecordIdEEB J
)EEJ K
;EEK L
tableFF 
.FF 

ForeignKeyFF $
(FF$ %
nameGG 
:GG 
$strGG E
,GGE F
columnHH 
:HH 
xHH  !
=>HH" $
xHH% &
.HH& '
	PatientIdHH' 0
,HH0 1
principalTableII &
:II& '
$strII( 2
,II2 3
principalColumnJJ '
:JJ' (
$strJJ) 4
,JJ4 5
onDeleteKK  
:KK  !
ReferentialActionKK" 3
.KK3 4
CascadeKK4 ;
)KK; <
;KK< =
}LL 
)LL 
;LL 
migrationBuilderNN 
.NN 
CreateTableNN (
(NN( )
nameOO 
:OO 
$strOO $
,OO$ %
columnsPP 
:PP 
tablePP 
=>PP !
newPP" %
{QQ 
PrescriptionIdRR "
=RR# $
tableRR% *
.RR* +
ColumnRR+ 1
<RR1 2
GuidRR2 6
>RR6 7
(RR7 8
typeRR8 <
:RR< =
$strRR> D
,RRD E
nullableRRF N
:RRN O
falseRRP U
)RRU V
,RRV W
MedicationNameSS "
=SS# $
tableSS% *
.SS* +
ColumnSS+ 1
<SS1 2
stringSS2 8
>SS8 9
(SS9 :
typeSS: >
:SS> ?
$strSS@ F
,SSF G
nullableSSH P
:SSP Q
falseSSR W
)SSW X
,SSX Y
DosageTT 
=TT 
tableTT "
.TT" #
ColumnTT# )
<TT) *
stringTT* 0
>TT0 1
(TT1 2
typeTT2 6
:TT6 7
$strTT8 >
,TT> ?
nullableTT@ H
:TTH I
falseTTJ O
)TTO P
,TTP Q
	FrequencyUU 
=UU 
tableUU  %
.UU% &
ColumnUU& ,
<UU, -
stringUU- 3
>UU3 4
(UU4 5
typeUU5 9
:UU9 :
$strUU; A
,UUA B
nullableUUC K
:UUK L
falseUUM R
)UUR S
,UUS T
	StartDateVV 
=VV 
tableVV  %
.VV% &
ColumnVV& ,
<VV, -
DateTimeVV- 5
>VV5 6
(VV6 7
typeVV7 ;
:VV; <
$strVV= W
,VVW X
nullableVVY a
:VVa b
falseVVc h
)VVh i
,VVi j
EndDateWW 
=WW 
tableWW #
.WW# $
ColumnWW$ *
<WW* +
DateTimeWW+ 3
>WW3 4
(WW4 5
typeWW5 9
:WW9 :
$strWW; U
,WWU V
nullableWWW _
:WW_ `
falseWWa f
)WWf g
,WWg h
NotesXX 
=XX 
tableXX !
.XX! "
ColumnXX" (
<XX( )
stringXX) /
>XX/ 0
(XX0 1
typeXX1 5
:XX5 6
$strXX7 =
,XX= >
nullableXX? G
:XXG H
falseXXI N
)XXN O
}YY 
,YY 
constraintsZZ 
:ZZ 
tableZZ "
=>ZZ# %
{[[ 
table\\ 
.\\ 

PrimaryKey\\ $
(\\$ %
$str\\% 6
,\\6 7
x\\8 9
=>\\: <
x\\= >
.\\> ?
PrescriptionId\\? M
)\\M N
;\\N O
table]] 
.]] 

ForeignKey]] $
(]]$ %
name^^ 
:^^ 
$str^^ N
,^^N O
column__ 
:__ 
x__  !
=>__" $
x__% &
.__& '
PrescriptionId__' 5
,__5 6
principalTable`` &
:``& '
$str``( 9
,``9 :
principalColumnaa '
:aa' (
$straa) 3
,aa3 4
onDeletebb  
:bb  !
ReferentialActionbb" 3
.bb3 4
Cascadebb4 ;
)bb; <
;bb< =
}cc 
)cc 
;cc 
migrationBuilderee 
.ee 
CreateIndexee (
(ee( )
nameff 
:ff 
$strff 1
,ff1 2
tablegg 
:gg 
$strgg %
,gg% &
columnhh 
:hh 
$strhh #
)hh# $
;hh$ %
migrationBuilderjj 
.jj 
CreateIndexjj (
(jj( )
namekk 
:kk 
$strkk 4
,kk4 5
tablell 
:ll 
$strll (
,ll( )
columnmm 
:mm 
$strmm #
)mm# $
;mm$ %
}nn 	
	protectedqq 
overrideqq 
voidqq 
Downqq  $
(qq$ %
MigrationBuilderqq% 5
migrationBuilderqq6 F
)qqF G
{rr 	
migrationBuilderss 
.ss 
	DropTabless &
(ss& '
namett 
:tt 
$strtt $
)tt$ %
;tt% &
migrationBuildervv 
.vv 
	DropTablevv &
(vv& '
nameww 
:ww 
$strww $
)ww$ %
;ww% &
migrationBuilderyy 
.yy 
	DropTableyy &
(yy& '
namezz 
:zz 
$strzz '
)zz' (
;zz( )
migrationBuilder|| 
.|| 
	DropTable|| &
(||& '
name}} 
:}} 
$str}}  
)}}  !
;}}! "
}~~ 	
} 
}€€ ž
zD:\FII-2024-2025\.NET\PROIECT\Predictive-Healthcare-Management-System\Infrastructure\Infrastructure\DependencyInjection.cs
	namespace 	
Infrastructure
 
{ 
public		 

static		 
class		 
DependencyInjection		 +
{

 
public 
static 
IServiceCollection (
AddInfrastructure) :
(: ;
this; ?
IServiceCollection@ R
servicesS [
,[ \
IConfiguration] k
configurationl y
)y z
{ 	
services 
. 
AddDbContext !
<! " 
ApplicationDbContext" 6
>6 7
(7 8
options8 ?
=>@ B
options 
. 
	UseNpgsql !
(! "
configuration" /
./ 0
GetConnectionString0 C
(C D
$strD W
)W X
,X Y
b 
=> 
b 
. 
MigrationsAssembly )
() *
$str* :
): ;
); <
) 
; 
services 
. 
	AddScoped 
< 
IPatientRepository 1
,1 2
PatientRepository3 D
>D E
(E F
)F G
;G H
services 
. 
	AddScoped 
< "
IAppointmentRepository 5
,5 6!
AppointmentRepository7 L
>L M
(M N
)N O
;O P
return 
services 
; 
} 	
} 
} 